<!doctype html>
<html lang="{{ site:short_locale }}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title ?? site:name }}</title>
    {{ vite src="resources/js/site.js|resources/css/site.css" }}
    <script>

        (function () {
            let theme = localStorage.getItem("theme");
            if (!theme && window.matchMedia("(prefers-color-scheme: dark)").matches) {
                theme = "dark";
            }
            if (theme === "dark") {
                document.documentElement.classList.add("dark");
                document.addEventListener("DOMContentLoaded", () => {
                    document.getElementById("theme-icon").textContent = "ðŸŒ™"; // Set icon correctly
                });
            }
        })();


    </script>
</head>

<!-- <body class="flex h-full flex-col bg-zinc-50 dark:bg-black text-gray-800 dark:text-gray-300 font-sans"> -->

<body class="antialiased bg-white dark:bg-black text-zinc-800 dark:text-zinc-300">
    <div class="container mx-auto w-full lg:max-w-6xl py-8 px-8 bg-zinc-50 dark:bg-zinc-900">
        <header class="flex items-center justify-end lg:justify-between space-x-4 px-6 py-4 md:px-8 mb-8">
            <div class="hidden lg:block h-10 w-10 rounded-full bg-teal-600"></div>

            <!-- Menu Button for Small Screens -->
            <button id="menu-toggle"
                class="md:hidden flex items-center rounded-full bg-zinc-100 dark:bg-zinc-800 px-3 py-2 text-zinc-800 dark:text-zinc-200 cursor-pointer hover:text-teal-500 transition">
                â˜° Menu
            </button>

            <nav
                class="hidden md:flex items-center space-x-6 py-3 px-6 rounded-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-800 shadow-md shadow-zinc-200 dark:shadow-zinc-900">
                {{ nav from="pages" include_home="true"}}
                <a href="{{url}}"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">{{title}}</a>
                {{/nav}}

            </nav>

            <!-- <nav
                class="hidden md:flex items-center space-x-6 py-3 px-6 rounded-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-800 shadow-md shadow-zinc-200 dark:shadow-zinc-900">
                <a href="/about"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">
                    About
                </a>
                <a href="/articles"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">
                    Articles
                </a>
                <a href="/projects"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">
                    Projects
                </a>
                <a href="/speaking"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">
                    Speaking
                </a>
                <a href="/now"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">
                    Now
                </a>
                <a href="/uses"
                    class="transition text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">
                    Uses
                </a>
            </nav> -->

            <!-- Theme toggle -->
            <button id="theme-toggle"
                class="rounded-full px-3 py-2 text-zinc-800 bg-zinc-50 dark:bg-zinc-800 border border-zinc-100 dark:border-zinc-800 shadow-sm shadow-zinc-200 dark:shadow-zinc-900 flex items-center cursor-pointer">
                <span class="sr-only">Toggle theme</span>
                <span id="theme-icon">ðŸŒž</span> <!-- This icon will change dynamically -->
            </button>
        </header>

        <!-- mobile menu -->
        <div id="mobile-menu"
            class="hidden fixed inset-0 bg-zinc-100/30 dark:bg-black/30 backdrop-blur-sm flex items-center justify-center z-50">
            <div
                class="bg-white dark:bg-zinc-800 text-gray-800 dark:text-white flex flex-col space-y-2 p-6 rounded-2xl shadow-md w-2/3 max-w-2xl">
                <div class="flex justify-between items-center">
                    <span class="text-base">Navigation</span>
                    <button id="close-menu"
                        class="top-4 right-4 p-2 text-black dark:text-white cursor-pointer">âœ–</button>
                </div>
                <nav class="flex flex-col space-y-4 divide-y-[0.5px] text-base text-sm ">
                    {{ nav from="pages" include_home="true"}}
                    <a href="{{url}}" class="py-2 hover:text-teal-500">{{title}}</a>
                    {{/nav}}
                </nav>
            </div>
        </div>

        {{ template_content }}


        <!-- footer -->
        <footer class="mt-8 border-t border-zinc-100 dark:border-zinc-800 w-full p-12 flex justify-center">
            <nav class="flex items-center space-x-4 py-3 px-6 ">
                {{ nav from="pages" include_home="true"}}
                <a href="{{url}}"
                    class="text-sm font-medium text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400">{{title}}</a>
                {{/nav}}
            </nav>
        </footer>
    </div>
</body>

<script>
    // Mobile Menu Toggle
    document.getElementById("menu-toggle").addEventListener("click", function () {
        document.getElementById("mobile-menu").classList.remove("hidden");
    });

    // Close Menu
    document.getElementById("close-menu").addEventListener("click", function () {
        document.getElementById("mobile-menu").classList.add("hidden");
    });

    // Close Menu when backdrop is clicked
    document.getElementById("mobile-menu").addEventListener("click", function () {
        document.getElementById("mobile-menu").classList.add("hidden");
    });
</script>

</html>